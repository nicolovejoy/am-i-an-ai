(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{6249:function(){},5256:function(e,s,r){Promise.resolve().then(r.bind(r,2456))},2456:function(e,s,r){"use strict";r.d(s,{default:function(){return c}});var t=r(7437),n=r(2265),a=r(9376),i=r(9501),o=r(7996),l=r(7492);function c(){let[e,s]=(0,n.useState)(!1),[r,c]=(0,n.useState)(!1),[d,m]=(0,n.useState)(!1),[u,x]=(0,n.useState)(null),[p,h]=(0,n.useState)(!1),g=(0,a.useRouter)(),{register:f,handleSubmit:y,watch:w,formState:{errors:b}}=(0,i.cI)(),j=w("password"),v=async e=>{s(!0),x(null);try{await l.Y.signUp(e),h(!0)}catch(e){x(e)}finally{s(!1)}};return p?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,t.jsx)("div",{className:"max-w-md w-full space-y-8",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"mx-auto h-12 w-12 text-green-600 text-4xl",children:"âœ“"}),(0,t.jsx)("h2",{className:"mt-6 text-3xl font-extrabold text-gray-900",children:"Check your email"}),(0,t.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"We've sent a verification link to your email address. Click the link to verify your account."}),(0,t.jsx)("button",{onClick:()=>g.push("/auth/signin"),className:"mt-4 text-primary-600 hover:text-primary-500",children:"Back to sign in"})]})})}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,t.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),(0,t.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Join the conversation with AI"})]}),(0,t.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:y(v),children:[u&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,t.jsx)("p",{className:"text-sm text-red-600",children:u.message})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),(0,t.jsx)("input",{...f("email",{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}}),type:"email",className:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"your@email.com"}),b.email&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.email.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),(0,t.jsxs)("div",{className:"mt-1 relative",children:[(0,t.jsx)("input",{...f("password",{required:"Password is required",minLength:{value:8,message:"Password must be at least 8 characters"}}),type:r?"text":"password",className:"block w-full px-3 py-2 pr-10 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Choose a strong password"}),(0,t.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>c(!r),children:r?(0,t.jsx)(o.rzC,{className:"h-5 w-5 text-gray-400"}):(0,t.jsx)(o.rDJ,{className:"h-5 w-5 text-gray-400"})})]}),b.password&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.password.message})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm password"}),(0,t.jsxs)("div",{className:"mt-1 relative",children:[(0,t.jsx)("input",{...f("confirmPassword",{required:"Please confirm your password",validate:e=>e===j||"Passwords do not match"}),type:d?"text":"password",className:"block w-full px-3 py-2 pr-10 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-primary-500 focus:border-primary-500",placeholder:"Confirm your password"}),(0,t.jsx)("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center",onClick:()=>m(!d),children:d?(0,t.jsx)(o.rzC,{className:"h-5 w-5 text-gray-400"}):(0,t.jsx)(o.rDJ,{className:"h-5 w-5 text-gray-400"})})]}),b.confirmPassword&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.confirmPassword.message})]})]}),(0,t.jsx)("div",{children:(0,t.jsx)("button",{type:"submit",disabled:e,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:e?"Creating account...":"Create account"})}),(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("button",{type:"button",onClick:()=>g.push("/auth/signin"),className:"text-primary-600 hover:text-primary-500 text-sm",children:"Already have an account? Sign in"})})]})]})})}},7492:function(e,s,r){"use strict";r.d(s,{Y:function(){return a}});var t=r(3250);let n=new t.AM({UserPoolId:"us-east-1_ipC2hJAsT",ClientId:"6mvdodv3vud2pi5sv0oig920ne"}),a={signUp:async e=>{let{email:s,password:r}=e;return new Promise((e,a)=>{let i=[new t.KC({Name:"email",Value:s})];n.signUp(s,r,i,[],s=>{if(s){a({code:s.code||"UnknownError",message:s.message||"An unknown error occurred"});return}e()})})},confirmSignUp:async(e,s)=>new Promise((r,a)=>{new t.ws({Username:e,Pool:n}).confirmRegistration(s,!0,e=>{if(e){a({code:e.code||"UnknownError",message:e.message||"An unknown error occurred"});return}r()})}),signIn:async e=>{let{email:s,password:r}=e;return new Promise((e,a)=>{let i=new t.sD({Username:s,Password:r});new t.ws({Username:s,Pool:n}).authenticateUser(i,{onSuccess:()=>{e()},onFailure:e=>{a({code:e.code||"UnknownError",message:e.message||"An unknown error occurred"})}})})},getCurrentUser:async()=>new Promise(e=>{let s=n.getCurrentUser();if(!s){e(null);return}s.getSession((r,t)=>{if(r||!t||!t.isValid()){e(null);return}s.getUserAttributes((s,r)=>{var t,n;if(s||!r){e(null);return}let a=null===(t=r.find(e=>"email"===e.getName()))||void 0===t?void 0:t.getValue(),i=null===(n=r.find(e=>"sub"===e.getName()))||void 0===n?void 0:n.getValue();if(!a||!i){e(null);return}e({email:a,sub:i,role:"user"})})})}),signOut:()=>{let e=n.getCurrentUser();e&&e.signOut()},getIdToken:async()=>new Promise(e=>{let s=n.getCurrentUser();if(!s){e(null);return}s.getSession((s,r)=>{if(s||!r||!r.isValid()){e(null);return}e(r.getIdToken().getJwtToken())})})}}},function(e){e.O(0,[956,181,237,971,117,744],function(){return e(e.s=5256)}),_N_E=e.O()}]);